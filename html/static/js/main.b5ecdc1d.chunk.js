(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{145:function(e,t,a){e.exports=a(321)},150:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},155:function(e,t,a){},173:function(e,t,a){},223:function(e,t,a){},321:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(7),c=a.n(i),l=(a(150),a(14)),o=a(15),s=a(17),d=a(16),m=a(18),u=(a(151),a(152),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"title"},"Wanchain PoS Explorer")}}]),t}(n.Component)),h=(a(153),a(30)),v=(a(155),a(22)),E=a.n(v),p=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={blockNumber:0,totalStake:0,minerCount:0,delegatorCount:0,delePartiCnt:0,minerTotalReward:"N/A",minerRewardRate:"N/A",delegateTotalReward:"N/A",delegateRewardRate:"N/A",addrReward:"N/A",epochID:0,slotID:0,epochPercent:"N/A",yearReward:0,curEpochStartTime:0,nextEpochStartTime:0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getInfo",value:function(){console.log("getInfo called"),this.serverRequest=E.a.get(window.serverUrl+"info",function(e){console.log(e),e.blockNumber&&this.setState({blockNumber:e.blockNumber,totalStake:e.totalStake,minerCount:e.minerCount,delegatorCount:e.delegatorCount,delePartiCnt:e.delePartiCnt,epochID:e.epochID,slotID:e.slotID,epochPercent:e.epochPercent.toFixed(2),yearReward:e.yearReward,curEpochStartTime:e.curEpochStartTime,nextEpochStartTime:e.nextEpochStartTime,stableBlock:e.stableBlock,lastEpochSlotActivity:e.lastEpochSlotActivity})}.bind(this))}},{key:"componentDidMount",value:function(){console.log("componentDidMount"),this.getInfo(),this.timer=setInterval(this.getInfo.bind(this),5e3,null)}},{key:"componentWillUnmount",value:function(){console.log("componentWillUnmount"),clearInterval(this.timer),this.serverRequest.abort()}},{key:"render",value:function(){return r.a.createElement("div",{className:"Board"},r.a.createElement("div",{className:"blkNoValue"},r.a.createElement(h.a,{title:"Block Number",value:this.state.blockNumber})),r.a.createElement("div",{className:"totalstkValue"},r.a.createElement(h.a,{title:"Total Stake",value:this.state.totalStake})),r.a.createElement("div",{className:"everagetValue"},r.a.createElement(h.a,{title:"Average Reward",value:(100*this.state.yearReward/this.state.totalStake).toFixed(2)+"%"})),r.a.createElement("div",{className:"minerCntValue"},r.a.createElement(h.a,{title:"Validator",value:this.state.minerCount})),r.a.createElement("div",{className:"delegatePartCntValue"},r.a.createElement(h.a,{title:"Delegator",value:this.state.delePartiCnt})),r.a.createElement("div",{className:"epochID"},r.a.createElement(h.a,{title:"Epoch ID",value:this.state.epochID})),r.a.createElement("div",{className:"slotID"},r.a.createElement(h.a,{title:"Slot ID",value:this.state.slotID})),r.a.createElement("div",{className:"epochPercent"},r.a.createElement(h.a,{title:"Epoch Percent",value:this.state.epochPercent+"%"})),r.a.createElement("div",{className:"sbkV"},r.a.createElement(h.a,{title:"Last Activity",value:this.state.lastEpochSlotActivity})))}}]),t}(n.Component),f=(a(173),a(53),a(23)),N=(a(44),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={minerTotalReward:"N/A",minerRewardRate:"N/A"},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"minerCalc",value:function(){console.log("minerCalc");var e=this.minerLockAmount.value,t=this.minerLockTime.value;t<7||t>90?f.a.error("Lock Time value must in range [7 ~ 90]"):e<=0?f.a.error("Amount must > 0"):(this.setState({minerTotalReward:"Waiting",minerRewardRate:"Waiting"}),this.serverRequest=E.a.get(window.serverUrl+"minerCalc?amount="+e+"&locktime="+t,function(e){console.log(e),void 0!==e.minerTotalReward?this.setState({minerTotalReward:e.minerTotalReward.toFixed(2),minerRewardRate:e.minerRewardRate.toFixed(2)+"%"}):this.setState({minerTotalReward:"No found",minerRewardRate:"No found"})}.bind(this)))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Reward"},r.a.createElement("div",{className:"rewardTitle"},"Validator Reward Estimate"),r.a.createElement("div",{className:"rewardGrid"},r.a.createElement("div",{className:"i"},r.a.createElement("div",{className:"i1"},"Amount:"),r.a.createElement("div",{className:"i2"},"Lock Time:"),r.a.createElement("div",{className:"i3"}),r.a.createElement("div",{className:"bt"},r.a.createElement("button",{onClick:this.minerCalc.bind(this)},"Calculate")),r.a.createElement("div",{className:"i11"},r.a.createElement("input",{placeholder:"Lock Amount In Wan Coins",ref:function(t){e.minerLockAmount=t}})),r.a.createElement("div",{className:"i21"},r.a.createElement("input",{placeholder:"Lock Time In Epochs",ref:function(t){e.minerLockTime=t}})),r.a.createElement("div",{className:"i31"})),r.a.createElement("div",{className:"o"},JSON.stringify(this.state,null,4))))}}]),t}(n.Component)),g=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={delegateTotalReward:"N/A",delegateRewardRate:"N/A"},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"delegateCalc",value:function(){console.log("delegateCalc");var e=this.delegateAmount.value,t=this.delegateLockTime.value,a=this.delegateFeeRate.value;t<7||t>90?f.a.error("Lock Time value must in range [7 ~ 90]"):e<=0?f.a.error("Amount must > 0"):a<0||a>100?f.a.error("Fee Rate value must in range [0 ~ 100]"):(this.setState({delegateTotalReward:"Waiting",delegateRewardRate:"Waiting"}),this.serverRequest=E.a.get(window.serverUrl+"delegateCalc?amount="+e+"&locktime="+t+"&feerate="+a,function(e){console.log(e),void 0!==e.delegateTotalReward?this.setState({delegateTotalReward:e.delegateTotalReward.toFixed(2),delegateRewardRate:e.delegateRewardRate.toFixed(2)+"%"}):this.setState({delegateTotalReward:"No found",delegateRewardRate:"No found"})}.bind(this)))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Reward"},r.a.createElement("div",{className:"rewardTitle"},"Delegator Reward Estimate"),r.a.createElement("div",{className:"rewardGrid"},r.a.createElement("div",{className:"i"},r.a.createElement("div",{className:"i1"},"Amount:"),r.a.createElement("div",{className:"i2"},"Lock Time:"),r.a.createElement("div",{className:"i3"},"Fee Rate:"),r.a.createElement("div",{className:"bt"},r.a.createElement("button",{onClick:this.delegateCalc.bind(this)},"Calculate")),r.a.createElement("div",{className:"i11"},r.a.createElement("input",{placeholder:"Lock Amount In Wan Coins",ref:function(t){e.delegateAmount=t}})),r.a.createElement("div",{className:"i21"},r.a.createElement("input",{placeholder:"Lock Time In Epochs",ref:function(t){e.delegateLockTime=t}})),r.a.createElement("div",{className:"i31"},r.a.createElement("input",{placeholder:"Delegator's Fee Rate 10 (%)",ref:function(t){e.delegateFeeRate=t}}))),r.a.createElement("div",{className:"o"},JSON.stringify(this.state,null,4))))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={addrReward:"N/A"},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"addrIncentiveCheck",value:function(){console.log("addrIncentiveCheck");var e=this.addr.value,t=this.startEpoch.value,a=this.endEpoch.value;t<0||a<0?f.a.error("epoch id must >= 0"):(this.setState({addrReward:"Waiting"}),this.serverRequest=E.a.get(window.serverUrl+"addrIncentiveCheck?address="+e+"&startepoch="+t+"&endepoch="+a,function(e){console.log(e),void 0!==e.addrReward?this.setState({addrReward:e.addrReward.toFixed(2)}):this.setState({addrReward:"No found"})}.bind(this)))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Reward"},r.a.createElement("div",{className:"rewardTitle"},"Current Reward Query"),r.a.createElement("div",{className:"rewardGrid"},r.a.createElement("div",{className:"i"},r.a.createElement("div",{className:"i1"},"Address:"),r.a.createElement("div",{className:"i2"},"Start Epoch:"),r.a.createElement("div",{className:"i3"},"End Epoch:"),r.a.createElement("div",{className:"bt"},r.a.createElement("button",{onClick:this.addrIncentiveCheck.bind(this)},"Calculate")),r.a.createElement("div",{className:"i11"},r.a.createElement("input",{placeholder:"Account Address",ref:function(t){e.addr=t}})),r.a.createElement("div",{className:"i21"},r.a.createElement("input",{placeholder:"Start Epoch",ref:function(t){e.startEpoch=t}})),r.a.createElement("div",{className:"i31"},r.a.createElement("input",{placeholder:"End Epoch",ref:function(t){e.endEpoch=t}}))),r.a.createElement("div",{className:"o"},JSON.stringify(this.state,null,4))))}}]),t}(n.Component),b=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={addrMine:"N/A",addrEp:"N/A",addrRp:"N/A"},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"addrActivityCheck",value:function(){console.log("addrActivityCheck");var e=this.addrAct.value,t=this.startEpochAct.value,a=this.endEpochAct.value;t<0||a<0?f.a.error("epoch id must >= 0"):(this.setState({addrMine:"Waiting",addrEp:"Waiting",addrRp:"Waiting"}),this.serverRequest=E.a.get(window.serverUrl+"addrActivityCheck?address="+e+"&startepoch="+t+"&endepoch="+a,function(e){console.log(e),void 0!==e.addrMine?this.setState({addrMine:e.addrMine,addrEp:e.addrEp,addrRp:e.addrRp}):this.setState({addrMine:"No found",addrEp:"No found",addrRp:"No found"})}.bind(this)))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Reward"},r.a.createElement("div",{className:"rewardTitle"},"Working Activity Query"),r.a.createElement("div",{className:"rewardGrid"},r.a.createElement("div",{className:"i"},r.a.createElement("div",{className:"i1"},"Address:"),r.a.createElement("div",{className:"i2"},"Start Epoch:"),r.a.createElement("div",{className:"i3"},"End Epoch:"),r.a.createElement("div",{className:"bt"},r.a.createElement("button",{onClick:this.addrActivityCheck.bind(this)},"Calculate")),r.a.createElement("div",{className:"i11"},r.a.createElement("input",{placeholder:"Account Address",ref:function(t){e.addrAct=t}})),r.a.createElement("div",{className:"i21"},r.a.createElement("input",{placeholder:"Start Epoch",ref:function(t){e.startEpochAct=t}})),r.a.createElement("div",{className:"i31"},r.a.createElement("input",{placeholder:"End Epoch",ref:function(t){e.endEpochAct=t}}))),r.a.createElement("div",{className:"o"},JSON.stringify(this.state,null,4))))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={workingEpoch:"N/A",disworkingEpoch:"N/A"},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"addrWorkingHistoryQuery",value:function(){console.log("addrWorkingHistoryQuery");var e=this.addr.value,t=this.startEpoch.value,a=this.endEpoch.value;t<0||a<0?f.a.error("epoch id must >= 0"):(this.setState({workingEpoch:"Waiting",disworkingEpoch:"Waiting"}),this.serverRequest=E.a.get(window.serverUrl+"workingHistoryQuery?address="+e+"&startepoch="+t+"&endepoch="+a,function(e){console.log(e),void 0!==e.workingEpoch?this.setState({workingEpoch:e.workingEpoch,disworkingEpoch:e.disworkingEpoch}):this.setState({workingEpoch:"No found",disworkingEpoch:"No found"})}.bind(this)))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Reward"},r.a.createElement("div",{className:"rewardTitle"},"Validator Working History Query"),r.a.createElement("div",{className:"rewardGrid"},r.a.createElement("div",{className:"i"},r.a.createElement("div",{className:"i1"},"Address:"),r.a.createElement("div",{className:"i2"},"Start Epoch:"),r.a.createElement("div",{className:"i3"},"End Epoch:"),r.a.createElement("div",{className:"bt"},r.a.createElement("button",{onClick:this.addrWorkingHistoryQuery.bind(this)},"Calculate")),r.a.createElement("div",{className:"i11"},r.a.createElement("input",{placeholder:"Account Address",ref:function(t){e.addr=t}})),r.a.createElement("div",{className:"i21"},r.a.createElement("input",{placeholder:"Query Start Epoch",ref:function(t){e.startEpoch=t}})),r.a.createElement("div",{className:"i31"},r.a.createElement("input",{placeholder:"Query End Epoch",ref:function(t){e.endEpoch=t}}))),r.a.createElement("div",{className:"o"},JSON.stringify(this.state,null,4))))}}]),t}(n.Component),R=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={address:"N/A",amount:0,clients:[],feeRate:0,lockEpochs:0,stakingEpoch:0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"validatorInfoQuery",value:function(){console.log("addrWorkingHistoryQuery"),this.setState({address:"Waiting",amount:0,clients:[],feeRate:0,lockEpochs:0,stakingEpoch:0});var e=this.addr.value;this.serverRequest=E.a.get(window.serverUrl+"validatorInfo?address="+e,function(e){console.log(e),e?this.setState(e):this.setState({Address:"No found"})}.bind(this))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Reward"},r.a.createElement("div",{className:"rewardTitle"},"Validator Info Query"),r.a.createElement("div",{className:"rewardGrid"},r.a.createElement("div",{className:"i"},r.a.createElement("div",{className:"i1"},"Address:"),r.a.createElement("div",{className:"i2"}),r.a.createElement("div",{className:"i3"}),r.a.createElement("div",{className:"bt"},r.a.createElement("button",{onClick:this.validatorInfoQuery.bind(this)},"Calculate")),r.a.createElement("div",{className:"i11"},r.a.createElement("input",{placeholder:"Validator Address",ref:function(t){e.addr=t}})),r.a.createElement("div",{className:"i21"}),r.a.createElement("div",{className:"i31"})),r.a.createElement("div",{className:"o"},JSON.stringify(this.state,null,4))))}}]),t}(n.Component),y=(a(322),a(143)),O=(a(223),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).columns=[{title:"Address",dataIndex:"address",key:"address"},{title:"Amount",dataIndex:"amount",key:"amount",sorter:function(e,t){return e.amount-t.amount}},{title:"Start Epoch",dataIndex:"stakingEpoch",key:"stakingEpoch",sorter:function(e,t){return e.stakingEpoch-t.stakingEpoch}},{title:"Lock Epoch",dataIndex:"lockEpochs",key:"lockEpochs",sorter:function(e,t){return e.lockEpochs-t.lockEpochs}},{title:"Next Lock",dataIndex:"nextLockEpochs",key:"nextLockEpochs",sorter:function(e,t){return e.nextLockEpochs-t.nextLockEpochs}},{title:"Fee Rate",dataIndex:"feeRate",key:"feeRate",sorter:function(e,t){return e.feeRate-t.feeRate}},{title:"Delegators",dataIndex:"delegators",key:"delegators",sorter:function(e,t){return e.delegators-t.delegators}},{title:"Delegate Percent",dataIndex:"delegatePercent",key:"delegatePercent",sorter:function(e,t){return Number(e.delegatePercent.slice(0,e.delegatePercent.length-1))-Number(t.delegatePercent.slice(0,t.delegatePercent.length-1))}}],a.state={leaderBoard:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getLeaderBoard",value:function(){this.serverRequest=E.a.get(window.serverUrl+"stakerInfo",function(e){console.log(e),e&&(console.log(e),this.setState({leaderBoard:e}))}.bind(this))}},{key:"componentDidMount",value:function(){this.getLeaderBoard(),this.timer=setInterval(this.getLeaderBoard.bind(this),5e3,null)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=this.state.leaderBoard.slice(0,this.state.leaderBoard.length).map(function(e,t){for(var a=0,n=0;n<e.clients.length;n++)a+=Number(e.clients[n].amount);var r=100*a/(5*e.amount);e.delegators=e.clients.length,e.delegatePercent=r.toFixed(0)+"%";for(var i=0,c=0;c<e.partners.length;c++)i+=Number(e.partners[c].amount);return e.amount=Number(e.amount)+Number(i),e.key=t,e});return r.a.createElement("div",{className:"LeaderBoard"},r.a.createElement("div",{className:"LeaderBoardTitle"},"Validator List"),r.a.createElement("div",{className:"LeaderBoardBody"},r.a.createElement(y.a,{dataSource:e,columns:this.columns,size:"small"})))}}]),t}(n.Component)),A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Utils"},r.a.createElement(O,null),r.a.createElement(N,null),r.a.createElement(g,null),r.a.createElement(k,null),r.a.createElement(b,null),r.a.createElement(w,null),r.a.createElement(R,null))}}]),t}(n.Component);window.serverUrl="http://localhost:8000/";var j=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"title"},r.a.createElement(u,null)),r.a.createElement("div",{className:"board"},r.a.createElement(p,null)),r.a.createElement("div",{className:"utils"},r.a.createElement(A,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},44:function(e,t,a){}},[[145,1,2]]]);
//# sourceMappingURL=main.b5ecdc1d.chunk.js.map